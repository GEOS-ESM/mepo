#!/usr/bin/env python

import os
import traceback
import sys
sys.path.insert(0, os.path.join(os.path.dirname(__file__), "mepo.d"))

from command.init import init
from command.clone import clone
from command.status import status
from command.checkout import checkout
from command.branch import branch
from command.diff import diff
from command.where import where
from cmdline.parser import MepoParser

if __name__ == '__main__':

    args = MepoParser().parse()
    d = {
        'init': init,
        'clone': clone,
        'status': status,
        'checkout': checkout,
        'branch': branch,
        'diff': diff,
        'where': where,
    }

    try:
        d[args.mepo_cmd].run(args)
    except Exception as e:
        traceback.print_exc()
